[{"inputs":[{"internalType":"address","name":"_optionAmm","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"portfolio","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"int256","name":"portfolioHealth","type":"int256"}],"name":"DepositPortfolioCollateral","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"previousAdminRole","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"newAdminRole","type":"bytes32"}],"name":"RoleAdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleGranted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"portfolio","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"int256","name":"portfolioHealth","type":"int256"}],"name":"WithdrawPortfolioCollateral","type":"event"},{"inputs":[],"name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PORTFOLIO_POSITION_SIZE_LIMIT","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"portfolio","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"}],"name":"addPortfolioPosition","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"ammPortfolio","outputs":[{"internalType":"uint256","name":"collateralAmount","type":"uint256"},{"internalType":"uint256","name":"borrowedAmount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"portfolio","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"depositPortfolioCollateral","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"portfolio","type":"address"}],"name":"getDistanceFromLiquidation","outputs":[{"internalType":"int256","name":"marginRequired","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_portfolio","type":"address"}],"name":"getPortfolioActiveCollateral","outputs":[{"internalType":"int256","name":"longMargin","type":"int256"},{"internalType":"int256","name":"shortMargin","type":"int256"},{"internalType":"int256","name":"longPnl","type":"int256"},{"internalType":"int256","name":"shortPnl","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_portfolio","type":"address"}],"name":"getPortfolioAvailableCollateral","outputs":[{"internalType":"uint256","name":"availableCollateral","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"portfolio","type":"address"},{"internalType":"uint256","name":"positionIndex","type":"uint256"}],"name":"getPortfolioClosedPositionId","outputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"portfolio","type":"address"}],"name":"getPortfolioCollateralAmount","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_portfolio","type":"address"}],"name":"getPortfolioHealth","outputs":[{"internalType":"int256","name":"mm","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"portfolio","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getPortfolioHealthFromAddedCollateral","outputs":[{"internalType":"int256","name":"newMaintenanceMargin","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"portfolio","type":"address"},{"internalType":"uint256","name":"marginToAdd","type":"uint256"},{"internalType":"bool","name":"isShort","type":"bool"}],"name":"getPortfolioHealthFromAddedMargin","outputs":[{"internalType":"int256","name":"newMaintenanceMargin","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"portfolio","type":"address"},{"internalType":"uint256","name":"positionIndex","type":"uint256"}],"name":"getPortfolioIsPositionClosed","outputs":[{"internalType":"bool","name":"isClosed","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"portfolio","type":"address"}],"name":"getPortfolioPositionCount","outputs":[{"internalType":"uint256","name":"count","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"portfolio","type":"address"},{"internalType":"uint256","name":"positionIndex","type":"uint256"}],"name":"getPortfolioPositionId","outputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_portfolio","type":"address"},{"internalType":"bool","name":"isPut","type":"bool"},{"internalType":"bool","name":"isShort","type":"bool"},{"internalType":"uint256","name":"strike","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"}],"name":"getPortfolioPositionWithParams","outputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"grantRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"optionAmm","outputs":[{"internalType":"contract IOptionAMM","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"portfolios","outputs":[{"internalType":"uint256","name":"collateralAmount","type":"uint256"},{"internalType":"uint256","name":"borrowedAmount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"quote","outputs":[{"internalType":"contract IERC20Metadata","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"portfolio","type":"address"}],"name":"removeClosedPositionFromPortfolio","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"renounceRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"revokeRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"portfolio","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"updatePortfolioCollateralAmount","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdrawPortfolioCollateral","outputs":[],"stateMutability":"nonpayable","type":"function"}]